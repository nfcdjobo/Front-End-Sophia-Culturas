"use strict";(self.webpackChunksophia_culturas=self.webpackChunksophia_culturas||[]).push([[176],{176:function(e,s,t){t.r(s);var a=t(725),r=t(329),l=t(507),i=t(177),c=t(85),n=t(658),o=t(184);function d(e){e.preventDefault();var s=e.target.querySelector("#email"),t=e.target.querySelector("#password"),a=e.target.querySelector("#error-email"),c=e.target.querySelector("#error-password"),n=e.target.querySelectorAll("div[tel=col-lg-6]"),o=e.target.querySelector("#alert");l.Z.validateurEmail(s.value).then((function(d){a.textContent="",c.textContent="",d?l.Z.validateurPassword(t.value).then((function(s){if(s){var a=new FormData(e.target),l=new URLSearchParams(a);fetch(i.Z+"login",{method:"POST",body:l}).then((function(e){return e.json()})).then((function(e){if(e.msg.includes("succ\xe8s"))if(n.forEach((function(e){return e.hidden=!0})),o.className="alert alert-success text-center",e.msg.includes("succ\xe8s")){o.textContent=e.msg;var s={token:e.token,user:e.user,domaine:e.domaine};r.Z.set("user_sophia_culturas",JSON.stringify(s),{expires:1,path:"/"});setInterval((function(){window.location.href="/profile"}),1500)}else o.className="alert alert-danger text-center",o.textContent=e.msg;else o.className="alert alert-danger text-center",o.textContent=e.msg})).catch((function(){o.className="alert alert-danger text-center",o.textContent="Mot de passe incorret !"}))}else t.focus(),c.textContent="Le mot de passe doit \xeatre au moins 4 caract\xe8re et sans espace !"})):(s.focus(),a.textContent="Adresse email invalide !")}))}s.default=function(e){if(!n.Z)return(0,o.jsxs)("div",{children:[(0,o.jsx)("section",{className:"page-section align-items-stretch mb-5",id:"contact",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("a",{href:"/",children:(0,o.jsx)("img",{src:c,className:"",alt:"logo",title:"Logo Sophia-Culturas",style:{width:"250px"}})}),(0,o.jsx)("h2",{className:"section-heading",children:"Authentification"}),(0,o.jsxs)("h3",{className:"section-subheading text-muted",children:["Connectez vous \xe0 ",(0,o.jsx)("a",{href:"#",children:"Sophia-Culturas"})]})]}),(0,o.jsxs)("form",{id:"formulaire","data-sb-form-api-token":"API_TOKEN",onSubmit:d,children:[(0,o.jsxs)("div",{className:"row ",children:[(0,o.jsxs)("div",{className:"col-lg-6",tel:"col-lg-6",children:[(0,o.jsx)("code",{id:"error-email",style:{color:"red"}}),(0,o.jsxs)("div",{className:"col-lg-12 input-group mb-3",children:[(0,o.jsx)("label",{htmlFor:"email",className:"input-group-text",id:"basic-addon1",children:"Adresse email"}),(0,o.jsx)("input",{type:"text",name:"email",className:"form-control",placeholder:"Adresse email","aria-label":"email",id:"email","aria-describedby":"basic-addon1",required:!0})]})]}),(0,o.jsxs)("div",{className:"col-lg-6",tel:"col-lg-6",children:[(0,o.jsx)("code",{id:"error-password",style:{color:"red"}}),(0,o.jsxs)("div",{className:"col-lg-12 input-group mb-3",children:[(0,o.jsx)("label",{htmlFor:"password",className:"input-group-text",id:"basic-addon1",children:"Mot de passe"}),(0,o.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Mot de passe","aria-label":"password",id:"password","aria-describedby":"basic-addon1",required:!0})]})]})]}),(0,o.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",tel:"col-lg-6",children:(0,o.jsx)("div",{className:"text-center",tel:"col-lg-6",children:(0,o.jsx)("button",{className:"btn btn-outline-warning",id:"submit",type:"submit",children:"Connexion"})})}),(0,o.jsx)("hr",{}),(0,o.jsx)("div",{role:"alert",id:"alert"}),(0,o.jsxs)("div",{className:"row",id:"login-reset",tel:"col-lg-6",children:[(0,o.jsx)("div",{className:"form-group col-lg-6",children:(0,o.jsxs)("div",{className:"text-start",style:{color:"white"},children:[" Je n'ai pas de compte ? ",(0,o.jsx)("a",{href:"/register",children:" M'inscrire ici"})]})}),(0,o.jsx)("div",{className:"form-group col-lg-6",children:(0,o.jsxs)("div",{className:"text-end",style:{color:"white"},children:[" ",(0,o.jsx)("a",{href:"/reset",children:" Mot de passe oubli\xe9 ?"})]})})]})]})]})}),(0,o.jsx)(a.Z,{})]});window.location.href="/profile#!"}}}]);
//# sourceMappingURL=176.34cc0eb4.chunk.js.map