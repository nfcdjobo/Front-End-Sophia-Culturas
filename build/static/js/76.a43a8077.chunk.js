"use strict";(self.webpackChunksophia_culturas=self.webpackChunksophia_culturas||[]).push([[76],{76:function(e,t,a){a.r(t);var s=a(507),r=a(177),l=a(85),n=a(184);t.default=function(e){return(0,n.jsx)("div",{className:"App",children:(0,n.jsx)("section",{className:"page-section",id:"contact",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("a",{href:"/",children:(0,n.jsx)("img",{src:l,className:"",alt:"logo",title:"Logo Sophia-Culturas"})}),(0,n.jsx)("h2",{className:"section-heading",children:"R\xe9enitialisation"}),(0,n.jsxs)("h3",{className:"section-subheading text-muted",children:["R\xe9enitialisez votre mot de passe oubli\xe9 avec ",(0,n.jsx)("a",{href:"#",children:"Sophia-Culturas"})]})]}),(0,n.jsxs)("form",{id:"formulaire","data-sb-form-api-token":"API_TOKEN",onSubmit:function(e){e.preventDefault();var t=e.target.querySelector("#espaceCode"),a=e.target.querySelector("#code"),l=document.getElementById("alerter"),n=document.getElementById("adresse"),i=document.getElementById("email");l.textContent="",l.className="",s.Z.validateurEmail(e.target.querySelector("#email").value).then((function(c){c?s.Z.validateurPassword(e.target.querySelector("#password").value).then((function(s){s?e.target.querySelector("#password").value===e.target.querySelector("#passwordConfirm").value?fetch(r.Z+"testEmail",{method:"POST",body:new URLSearchParams(new FormData(e.target))}).then((function(e){return e.json()})).then((function(s){s.data||(l.textContent="Compte introvable !",l.className="alert alert-danger text-center"),t.hidden=!1,n.textContent=" "+i.value,e.target.querySelector("#lien").href=s.data.url,e.target.querySelector("#login-reset").hidden=!0,e.target.querySelector("#submiter").hidden=!0,e.target.querySelector("#register-login.").hidden=!0,a.addEventListener("blur",(function(t){fetch(r.Z+"reset",{method:"POST",body:new URLSearchParams(new FormData(e.target))}).then((function(e){return e.json()})).then((function(e){e.msg?(l.textContent=e.msg,l.className="alert alert-success text-center",setTimeout((function(){window.location.href="/login#!"}),1e3)):(l.textContent=e.msg,l.className="alert alert-danger text-center")})).catch((function(e){l.textContent=e.message,l.className="alert alert-danger text-center"}))})).catch((function(e){l.textContent=e.message,l.className="alert alert-danger text-center"}))})).catch((function(e){l.textContent=e.message,l.className="alert alert-danger text-center"})):(l.className="alert alert-danger text-center",l.textContent="Le mot de passe doit \xeatre au moins 4 caract\xe8re, ne doit pas contenir d'espace.",e.target.querySelector("#passwordConfirm").focus()):(l.className="alert alert-danger text-center",l.textContent="Le mot de passe doit \xeatre au moins 4 caract\xe8re, ne doit pas contenir d'espace.",e.target.querySelector("#password").focus())})).catch((function(e){l.textContent=e.message,l.className="alert alert-danger text-center"})):(l.className="alert alert-danger text-center",l.textContent="Adresse email incorrect.",e.target.querySelector("#email").focus())})).catch((function(e){l.textContent=e.message,l.className="alert alert-danger text-center"}))},children:[(0,n.jsxs)("div",{className:"row ",children:[(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"col-lg-12 input-group mb-3",children:[(0,n.jsx)("label",{htmlFor:"email",className:"input-group-text",id:"basic-addon1",children:"Adresse email"}),(0,n.jsx)("input",{type:"text",name:"email",className:"form-control",placeholder:"Adresse email","aria-label":"email",id:"email","aria-describedby":"basic-addon1",required:!0})]})}),(0,n.jsxs)("div",{className:"col-lg-6",children:[(0,n.jsxs)("div",{className:"col-lg-12 input-group mb-3",children:[(0,n.jsx)("label",{htmlFor:"password",className:"input-group-text",id:"basic-addon1",children:"Nouveau mot de passe"}),(0,n.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Nouveau mot de passe","aria-label":"password",id:"password","aria-describedby":"basic-addon1",required:!0})]}),(0,n.jsxs)("div",{className:"col-lg-12 input-group mb-3",children:[(0,n.jsx)("label",{htmlFor:"passwordConfirm",className:"input-group-text",id:"basic-addon1",children:"R\xe9p\xe9ter mot de passe"}),(0,n.jsx)("input",{type:"password",name:"passwordConfirm",className:"form-control",placeholder:"R\xe9p\xe9ter mot de passe","aria-label":"passwordConfirm",id:"passwordConfirm","aria-describedby":"basic-addon1",required:!0})]})]}),(0,n.jsx)("div",{className:"row",id:"espaceCode",hidden:!0,children:(0,n.jsxs)("div",{className:"col-lg-12 mb-3",children:[(0,n.jsxs)("label",{htmlFor:"code",className:"form-label",style:{color:"white"},children:["Veuillez confirmer le code de validation par l'adresse ",(0,n.jsx)("a",{href:"#",id:"adresse"}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{id:"lien",target:"_blank",children:"Cliquez sur ce lien pour copier"})})]}),(0,n.jsx)("input",{type:"text",name:"code",className:"form-control",style:{width:"90px"},placeholder:"Code","aria-label":"code",id:"code","aria-describedby":"basic-addon1"}),(0,n.jsx)("span",{id:"error-code",style:{color:"red"}})]})}),(0,n.jsx)("div",{className:"d-grid gap-2 col-6 mx-auto",id:"submiter",children:(0,n.jsx)("div",{className:"text-center",id:"div-connexion",children:(0,n.jsx)("button",{className:"btn btn-outline-warning",id:"submitRegister",type:"submit",children:"Valider"})})})]}),(0,n.jsxs)("div",{className:"row",id:"register-login",children:[(0,n.jsx)("div",{className:"form-group col-lg-6",children:(0,n.jsxs)("div",{className:"text-start",style:{color:"white"},children:[" Je n'ai pas de compte,  ",(0,n.jsx)("a",{href:"/register",children:" m'inscrire ici ?"})]})}),(0,n.jsx)("div",{className:"form-group col-lg-6",children:(0,n.jsxs)("div",{className:"text-end",style:{color:"white"},children:[" Je ne souviens du mot de passe, ",(0,n.jsx)("a",{href:"/login",children:" me connecter ici ?"})]})})]}),(0,n.jsx)("div",{className:"",id:"alerter",role:"alert"})]})]})})})}}}]);
//# sourceMappingURL=76.a43a8077.chunk.js.map